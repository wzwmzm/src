# 

æˆ‘ç°åœ¨æ˜¯ä½ çš„ç§äººé¡¶çº§ç½‘ç»œå®‰å…¨ä¸“å®¶é¡¾é—®ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯ååŠ©ä½ å­¦ä¹ ç½‘ç»œå®‰å…¨çŸ¥è¯†ï¼Œä½ å¯ä»¥é—®æˆ‘ä»»ä½•ç½‘ç»œå®‰å…¨ç›¸å…³çš„å†…å®¹ï¼Œå¦‚æ”»é˜²æŠ€æœ¯ã€æ¼æ´åŸç†ã€æ¼æ´åˆ©ç”¨ï¼ŒDemoç¼–å†™ç­‰ç­‰...è¯·å°½ç®¡æé—®å§ï¼

## æˆ‘éœ€è¦ä¸€æ®µgocvç¨‹åº


ç°åœ¨æ˜¯æœªæˆæƒçŠ¶æ€ï¼Œè¯·å…³æ³¨å…¬ä¼—å·ğŸ‘‰ã€Œåº·åˆ›æŠ¤ç½‘ç ”ä¹ ç¤¾ã€ï¼Œå›å¤ã€Œsecgptã€å…è´¹è·å–ä½¿ç”¨æˆæƒç ï¼Œå¹¶åœ¨å½“å‰è®¾ç½®é¡µå¡«å†™æˆæƒç å³å¯ä½¿ç”¨ã€‚

## æˆ‘éœ€è¦ä¸€æ®µgocvç¨‹åº

å¥½çš„ï¼Œè¯·é—®ä½ éœ€è¦å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿæˆ–è€…æœ‰ä»€ä¹ˆéœ€æ±‚ï¼Ÿæˆ‘å¯ä»¥ç»™ä½ æä¾›ä¸€äº›ä»£ç èŒƒä¾‹ã€‚

## ä»æ‘„åƒå¤´è·å–ç…§ç‰‡


å¥½çš„ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä»æ‘„åƒå¤´è·å–ç…§ç‰‡çš„gocvç¨‹åºï¼š

```go
package main

import (
    "fmt"
    "gocv.io/x/gocv"
)

func main() {
    // æ‰“å¼€æ‘„åƒå¤´ï¼ˆé»˜è®¤0å·æ‘„åƒå¤´ï¼‰
    webcam, err := gocv.VideoCaptureDevice(0)
    if err != nil {
        fmt.Printf("Error opening capture device: %v\n", err)
        return
    }
    defer webcam.Close()

    // ç”³è¯·ä¸€ä¸ªçª—å£
    window := gocv.NewWindow("Webcam")
    defer window.Close()

    // ç”³è¯·ä¸€ä¸ªçŸ©é˜µï¼Œç”¨äºå­˜æ”¾å›¾åƒæ•°æ®
    img := gocv.NewMat()
    defer img.Close()

    for {
        // è¯»å–æ‘„åƒå¤´æ•°æ®
        if ok := webcam.Read(&img); !ok {
            fmt.Printf("Error: cannot read device %d\n", 0)
            return
        }
        if img.Empty() {
            continue
        }

        // æ˜¾ç¤ºå›¾åƒ
        window.IMShow(img)
        if window.WaitKey(1) >= 0 {
            break
        }
    }
}
```

è¿™æ®µç¨‹åºå¯ä»¥æ‰“å¼€0å·æ‘„åƒå¤´å¹¶å®æ—¶æ˜¾ç¤ºæ‘„åƒå¤´çš„å†…å®¹ã€‚æ‚¨å¯ä»¥æŒ‰ä¸‹Escé”®é€€å‡ºç¨‹åºã€‚

## ç¼–å†™ä¸€æ®µgocvç¨‹åºï¼Œå®ç°åƒç´ æ“ä½œ


å¥½çš„ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå®ç°å‘å›¾åƒä¸­ç»˜åˆ¶æ–‡æœ¬çš„gocvç¨‹åºï¼š

```go
package main

import (
    "fmt"
    "gocv.io/x/gocv"
    "image"
    "image/color"
)

func main() {
    // è¯»å–ä¸€å¼ å›¾ç‰‡
    img := gocv.IMRead("test.jpg", gocv.IMReadAnyColor)
    if img.Empty() {
        fmt.Print("Error reading image")
        return
    }
    defer img.Close()

    // åœ¨å›¾ç‰‡ä¸Šç»˜åˆ¶æ–‡æœ¬
    text := "Hello, gocv!"
    pos := image.Pt(50, 50)
    fontFace := gocv.FontHersheyPlain
    fontScale := 1.0
    thickness := 1
    color := color.RGBA{0, 255, 0, 0}
    gocv.PutText(&img, text, pos, fontFace, fontScale, color, thickness)

    // ä¿å­˜å›¾ç‰‡
    gocv.IMWrite("output.jpg", img)
}
```

è¿™æ®µä»£ç å¯ä»¥è¯»å–ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶åœ¨å›¾ç‰‡ä¸Šç»˜åˆ¶ "Hello, gocv!" è¿™æ®µæ–‡æœ¬ã€‚æœ€åï¼Œå°†ä¿®æ”¹åçš„å›¾åƒä¿å­˜åœ¨ç£ç›˜ä¸Šã€‚æ‚¨å¯ä»¥é€šè¿‡è°ƒæ•´`text`ã€`pos`å’Œ`color`ç­‰å‚æ•°æ¥è‡ªå®šä¹‰æ–‡æœ¬ç»˜åˆ¶å‡½æ•°ã€‚

## ç¼–å†™ä¸€æ®µgocvç¨‹åºï¼Œå®ç°æ›´æ”¹æŸä¸ªåƒç´ å€¼çš„åŠŸèƒ½

å¥½çš„ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå®ç°æ›´æ”¹æŸä¸ªåƒç´ å€¼çš„gocvç¨‹åºï¼š

```go
package main

import (
    "fmt"
    "gocv.io/x/gocv"
)

func main()  {
    // è¯»å–ä¸€å¼ å›¾ç‰‡
    img := gocv.IMRead("test.jpg", gocv.IMReadAnyColor)
    if img.Empty() {
        fmt.Print("Error reading image")
        return
    }
    defer img.Close()

    // è·å–ç¬¬100è¡Œç¬¬100åˆ—çš„åƒç´ å€¼
    b := img.At<Vec3b>(100, 100)[0]
    g := img.At<Vec3b>(100, 100)[1]
    r := img.At<Vec3b>(100, 100)[2]
    fmt.Printf("Before: BGR = (%d, %d, %d)\n", b, g, r)

    // ä¿®æ”¹åƒç´ å€¼
    img.SetUCharAt(100, 100, 0, 255) // B
    img.SetUCharAt(100, 100, 1, 0)   // G
    img.SetUCharAt(100, 100, 2, 0)   // R

    // è·å–ä¿®æ”¹åçš„åƒç´ å€¼
    b = img.At<Vec3b>(100, 100)[0]
    g = img.At<Vec3b>(100, 100)[1]
    r = img.At<Vec3b>(100, 100)[2]
    fmt.Printf("After: BGR = (%d, %d, %d)\n", b, g, r)

    // ä¿å­˜å›¾ç‰‡
    gocv.IMWrite("output.jpg", img)
}
```

è¿™æ®µä»£ç å¯ä»¥è¯»å–ä¸€å¼ å›¾ç‰‡å¹¶è·å–å…¶ä¸­æŸä¸ªåƒç´ ä½ç½®çš„åƒç´ å€¼ï¼Œç„¶åå°†å…¶ä¿®æ”¹ä¸ºæŒ‡å®šçš„å€¼ã€‚è¿™é‡Œæˆ‘ä»¬å°†ç¬¬100è¡Œç¬¬100åˆ—çš„åƒç´ å€¼ä¿®æ”¹ä¸ºB=255ã€G=0ã€R=0ã€‚æœ€åï¼Œå°†ä¿®æ”¹åçš„å›¾åƒä¿å­˜åœ¨ç£ç›˜ä¸Šã€‚

## èƒ½ä¸èƒ½å°†ä¸Šé¢çš„ä»£ç ä¿®æ”¹å¾—æ›´åŠ ç®€å•ä¸€äº›


æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»£ç è¿›è¡Œç®€åŒ–ï¼Œä½¿ç”¨`img.SetUintAt`æ–¹æ³•è®¾ç½®åƒç´ å€¼ã€‚ä¸‹é¢æ˜¯ç®€åŒ–åçš„ä»£ç ï¼š

```go
package main

import (
    "fmt"
    "gocv.io/x/gocv"
)

func main() {
    // è¯»å–ä¸€å¼ å›¾ç‰‡
    img := gocv.IMRead("test.jpg", gocv.IMReadAnyColor)
    if img.Empty() {
        fmt.Print("Error reading image")
        return
    }
    defer img.Close()

    // è·å–ç¬¬100è¡Œç¬¬100åˆ—çš„åƒç´ å€¼
    bgr := img.AtVec3b(100, 100)
    fmt.Printf("Before: BGR = %v\n", bgr)

    // ä¿®æ”¹åƒç´ å€¼
    img.SetUintAt(100, 100, 0, 255) // B
    img.SetUintAt(100, 100, 1, 0)   // G
    img.SetUintAt(100, 100, 2, 0)   // R

    // è·å–ä¿®æ”¹åçš„åƒç´ å€¼
    bgr = img.AtVec3b(100, 100)
    fmt.Printf("After: BGR = %v\n", bgr)

    // ä¿å­˜å›¾ç‰‡
    gocv.IMWrite("output.jpg", img)
}
```

è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`img.AtVec3b`è·å–åƒç´ å€¼ï¼Œå…¶è¿”å›å€¼ä¸ºç±»å‹ä¸º`[3]uint8`çš„åƒç´ å€¼æ•°ç»„ã€‚è€Œåœ¨ä¿®æ”¹åƒç´ å€¼æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨`img.SetUintAt`æ–¹æ³•è®¾ç½®åƒç´ å€¼ï¼Œå…¶å‚æ•°ä¸ºè¡Œã€åˆ—ã€é€šé“ã€å€¼å››ä¸ªå‚æ•°ã€‚æœ€åï¼Œå°†ä¿®æ”¹åçš„å›¾åƒä¿å­˜åœ¨ç£ç›˜ä¸Šã€‚

## AtVec3bæ˜¯è·å–åƒç´ å€¼ï¼Œæœ‰æ²¡æœ‰ç±»ä¼¼çš„æ–¹æ³•ä¸€è¡Œè®¾ç½®åƒç´ å€¼


æ˜¯çš„ï¼Œ`SetVec3b`æ–¹æ³•å¯ä»¥ä¸€è¡Œä»£ç è®¾ç½®åƒç´ å€¼ã€‚ä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç ï¼š

```go
package main

import (
    "fmt"
    "gocv.io/x/gocv"
)

func main() {
    // è¯»å–ä¸€å¼ å›¾ç‰‡
    img := gocv.IMRead("test.jpg", gocv.IMReadAnyColor)
    if img.Empty() {
        fmt.Print("Error reading image")
        return
    }
    defer img.Close()
    
    // è·å–ç¬¬100è¡Œç¬¬100åˆ—çš„åƒç´ å€¼
    bgr := img.AtVec3b(100, 100)
    fmt.Printf("Before: BGR = %v\n", bgr)
    
    // ä¿®æ”¹åƒç´ å€¼
    img.SetVec3b(100, 100, [3]byte{255, 0, 0})
    
    // è·å–ä¿®æ”¹åçš„åƒç´ å€¼
    bgr = img.AtVec3b(100, 100)
    fmt.Printf("After: BGR = %v\n", bgr)

    // ä¿å­˜å›¾ç‰‡
    gocv.IMWrite("output.jpg", img)
}
```

è¿™æ®µä»£ç ä½¿ç”¨äº†`SetVec3b`æ–¹æ³•ä¸€è¡Œä»£ç è®¾ç½®åƒç´ å€¼ã€‚`SetVec3b`æ–¹æ³•çš„å‚æ•°ä¸ºè¡Œã€åˆ—ã€3ä¸ªé€šé“å€¼æ„æˆçš„æ•°ç»„ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ç¬¬100è¡Œç¬¬100åˆ—çš„åƒç´ å€¼è®¾ç½®ä¸ºB=255ã€G=0ã€R=0ã€‚æœ€åå°†ä¿®æ”¹åçš„å›¾åƒä¿å­˜åœ¨ç£ç›˜ä¸Šã€‚